$(document).ready(function(){function e(){var e=document.querySelector(".slick-center").children;e[3].addEventListener("click",function(t){t.preventDefault();var r=e[2];r.style.display="block",r.children[1].addEventListener("click",function(e){e.preventDefault(),r.style.display="none"})})}function t(e,t){$(document).click(function(t){$(e).prop("checked",!1)});var r=$(e),n=$(t);$(r).click(function(e){e.stopPropagation()}),$(n).click(function(e){e.stopPropagation()})}function r(e,t,r){document.querySelector(e).addEventListener("click",function(e){var i=$(e.target).parents(".forms-field__item");if(i.length){var o=i.attr("data-id"),a=i.attr("data-price"),c=$("[class*=responsive-item-name]",i).text();r.text(a),t.attr("value",o),s.text(c),n()}})}function n(){var e=document.querySelector(".number-pages__summ-price"),t=parseInt(e.getAttribute("value")),r=document.querySelector(".summary__selected-package-price-summ"),n=parseInt(r.innerText),i=document.querySelector(".summary__total-price-number"),o=document.querySelector(".summary__total-price-input"),a=n+t;i.innerText=a,o.setAttribute("value",a)}$(".simple-slider").bxSlider({slideWidth:350,minSlides:1,maxSlides:4,moveSlides:1,slideMargin:15,pager:!1,prevText:"",nextText:"",prevSelector:".simple-slider__arrow-prev",nextSelector:".simple-slider__arrow-next"}),$("#wrapper").slickLightbox(),$(".centered-slider").slick({centerMode:!0,centerPadding:"0px",slidesToShow:3,arrows:!0,prevArrow:".centered-slider__button-prev",nextArrow:".centered-slider__button-next",responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),e();var i=document.querySelector(".centered-slider__button-prev"),o=document.querySelector(".centered-slider__button-next");i.addEventListener("click",function(t){t.preventDefault(),e()}),o.addEventListener("click",function(t){t.preventDefault(),e()}),document.querySelector(".number-pages__addbtn").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".summary__number-pages-quantity"),r=document.querySelector(".number-pages__quantity"),i=document.querySelector(".summary__number-pages-price-input"),o=document.querySelector(".number-pages__summ-price"),a=document.querySelector(".summary__number-pages-price-summ"),c=parseInt(r.value)+1,s=c*parseInt(i.value);t.innerText=c,r.setAttribute("value",c),a.innerText=s,o.setAttribute("value",s),n()}),function(e,t,r){document.querySelector(e).addEventListener("click",function(e){var n=$(e.target).parents(".form-field__contact-item");if(n.length){var i=n.attr("data-id"),o=$("[class=form-field__contact-item-name]",n).text();t.attr("value",i),r.text(o)}})}(".form-field__contact-list",$(".chosen-communication-way"),$(".comm-way-chosen"));t("#communication-contact","#communication-contact+label"),t("#responsive-list-toggle","#responsive-list-toggle+label"),t("#nonresponsive-list-toggle","#nonresponsive-list-toggle+label");var a=$(".chosen-item__price"),c=$(".summary__selected-package-price-summ"),s=$(".summary__selected-package-line2");r(".forms-field__nonresponsive-list",a,c),r(".forms-field__responsive-list",a,c);var l=document.querySelector(".validate-this");!function(){l.nameClient,l.contactNumber,l.projectTitle;l.addEventListener("submit",function(e){function t(e){for(var t=!1,i=0;i<e.length;i++){var o=e[i];""===o.value.trim()&&(t=!0,r(o))}t||setTimeout(function(){alert("checking is complete"),n.submit()},300)}function r(e){e.classList.add("error");var t=e.getAttribute("data-error");if(t){var r=document.createElement("div");r.textContent=t,r.className="error-text",e.parentNode.appendChild(r)}}e.preventDefault();var n=this,i=n.querySelectorAll("[data-error]");!function(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=n.parentNode,o=i.querySelector(".error-text");n.classList.remove("error"),o&&i.removeChild(o)}t&&t()}(i,function(){t(i)})})}(),l.addEventListener("submit",function(){event.preventDefault();var e=new XMLHttpRequest;e.open("POST","/feedback"),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4===this.readyState){var e=document.createElement("div"),t=this.responseText;e.innerText=t,document.body.appendChild(e)}};var t={nameClient:"",contactNumber:"",projectTitle:""},r=JSON.stringify(t);e.send(r)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJyZWFkTW9yZSIsImdldFBhcmVudERpdiIsInF1ZXJ5U2VsZWN0b3IiLCJjaGlsZHJlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJnZXRDaGlsZERpdiIsInN0eWxlIiwiZGlzcGxheSIsImV2IiwiY2xvc2VBc2lkZSIsImNoZWNrQm94U2VsZWN0b3IiLCJjaGVja0xhYmVsU2VsZWN0b3IiLCJjbGljayIsInByb3AiLCJhQ2hlY2tCb3giLCJhQ2hlY2tMYWJlbCIsInN0b3BQcm9wYWdhdGlvbiIsImluaXRpYWxpemVQcmljZXNEcm9wZG93biIsImxpc3RTZWxlY3RvciIsIiRwYWNrYWdlSURJbnB1dCIsIiRwcmljZU5hbWVPdXB1dEVsIiwiJGxpIiwidGFyZ2V0IiwicGFyZW50cyIsImxlbmd0aCIsImlkIiwiYXR0ciIsInByaWNlIiwibmFtZSIsInRleHQiLCIkcHJvak5hbWVPdXRFbCIsImNhbGN1bGF0ZVRvdGFsIiwicXVhbnRQZ1ByaWNlIiwiZ2V0UXVhbnRQZ1ByaWNlIiwicGFyc2VJbnQiLCJnZXRBdHRyaWJ1dGUiLCJwYWNrYWdlUHJpY2UiLCJnZXRQYWNrYWdlUHJpY2UiLCJpbm5lclRleHQiLCJ0b3RhbFByaWNlIiwidG90YWxQcmljZU91dHB1dCIsInRvdGFsUmVzIiwic2V0QXR0cmlidXRlIiwiYnhTbGlkZXIiLCJzbGlkZVdpZHRoIiwibWluU2xpZGVzIiwibWF4U2xpZGVzIiwibW92ZVNsaWRlcyIsInNsaWRlTWFyZ2luIiwicGFnZXIiLCJwcmV2VGV4dCIsIm5leHRUZXh0IiwicHJldlNlbGVjdG9yIiwibmV4dFNlbGVjdG9yIiwic2xpY2tMaWdodGJveCIsInNsaWNrIiwiY2VudGVyTW9kZSIsImNlbnRlclBhZGRpbmciLCJzbGlkZXNUb1Nob3ciLCJhcnJvd3MiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiZ2V0UHJldkJ0biIsImdldE5leHRCdG4iLCJhZGRQZ1JlcyIsInF1YW50UGciLCJxdWFudFN1bW1QZyIsInF1YW50U3VtbVJlcyIsInF1YW50U3VtbURpc3AiLCJpbmNyTnVtIiwidmFsdWUiLCJpbmNyUHJpY2UiLCIkd2F5SURJbnB1dCIsIiR3YXlOYW1lT3VwdXRFbCIsIiRwcmljZVZhbHVlSW5wdXQiLCIkcHJpY2VOYW1lT3V0RWwiLCJmb3JtIiwibmFtZUNsaWVudCIsImNvbnRhY3ROdW1iZXIiLCJwcm9qZWN0VGl0bGUiLCJjaGVja0lzRW1wdHkiLCJpbnB1dHMiLCJpc0VtcHR5IiwiaSIsImlucHV0IiwidHJpbSIsIm1hcmtJbnB1dCIsInNldFRpbWVvdXQiLCJhbGVydCIsInN1Ym1pdCIsImNsYXNzTGlzdCIsImFkZCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJhcHBlbmRDaGlsZCIsInRoaXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRzSXRlbSIsImNhbGxiYWNrIiwicGFyZW50IiwibWVzc2FnZXJyIiwicmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwib3V0IiwianNvblN0cmluZyIsInJlc3BvbnNlVGV4dCIsImJvZHkiLCJkYXRhIiwic3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlbmQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBNEZkLFNBQVNDLElBQ0wsSUFBSUMsRUFBZUgsU0FBU0ksY0FBYyxpQkFBaUJDLFNBQzFDRixFQUFhLEdBQ25CRyxpQkFBaUIsUUFBUyxTQUFVQyxHQUMzQ0EsRUFBRUMsaUJBQ0YsSUFBSUMsRUFBY04sRUFBYSxHQUMvQk0sRUFBWUMsTUFBTUMsUUFBVSxRQUNWRixFQUFZSixTQUFTLEdBQzNCQyxpQkFBaUIsUUFBUyxTQUFVTSxHQUM1Q0EsRUFBR0osaUJBQ0hDLEVBQVlDLE1BQU1DLFFBQVUsV0F3RHhDLFNBQVNFLEVBQVlDLEVBQWtCQyxHQUNuQ2hCLEVBQUVDLFVBQVVnQixNQUFNLFNBQVVULEdBQ1JSLEVBQUVlLEdBQ1JHLEtBQUssV0FBVyxLQUU5QixJQUFJQyxFQUFZbkIsRUFBRWUsR0FDZEssRUFBY3BCLEVBQUVnQixHQUNwQmhCLEVBQUVtQixHQUFXRixNQUFNLFNBQVVULEdBQ3pCQSxFQUFFYSxvQkFFTnJCLEVBQUVvQixHQUFhSCxNQUFNLFNBQVVULEdBQzNCQSxFQUFFYSxvQkFXVixTQUFTQyxFQUF5QkMsRUFBY0MsRUFBaUJDLEdBRTNDeEIsU0FBU0ksY0FBY2tCLEdBQzdCaEIsaUJBQWlCLFFBQVMsU0FBVUMsR0FDNUMsSUFBSWtCLEVBQU0xQixFQUFFUSxFQUFFbUIsUUFBUUMsUUFBUSxzQkFDOUIsR0FBS0YsRUFBSUcsT0FBVCxDQUlBLElBQUlDLEVBQUtKLEVBQUlLLEtBQUssV0FDZEMsRUFBUU4sRUFBSUssS0FBSyxjQUNqQkUsRUFBT2pDLEVBQUUsZ0NBQWlDMEIsR0FBS1EsT0FFbkRULEVBQWtCUyxLQUFLRixHQUN2QlIsRUFBZ0JPLEtBQUssUUFBU0QsR0FDOUJLLEVBQWVELEtBQUtELEdBQ3BCRyxPQUtSLFNBQVNBLElBQ0wsSUFBSUMsRUFBZXBDLFNBQVNJLGNBQWMsNkJBQ3RDaUMsRUFBa0JDLFNBQVNGLEVBQWFHLGFBQWEsVUFDckRDLEVBQWV4QyxTQUFTSSxjQUFjLHlDQUN0Q3FDLEVBQWtCSCxTQUFTRSxFQUFhRSxXQUN4Q0MsRUFBYTNDLFNBQVNJLGNBQWMsZ0NBQ3BDd0MsRUFBbUI1QyxTQUFTSSxjQUFjLCtCQUMxQ3lDLEVBQVdKLEVBQWtCSixFQUNqQ00sRUFBV0QsVUFBWUcsRUFDdkJELEVBQWlCRSxhQUFhLFFBQVNELEdBak4zQzlDLEVBQUUsa0JBQWtCZ0QsVUFDaEJDLFdBQVksSUFDWkMsVUFBVyxFQUNYQyxVQUFXLEVBQ1hDLFdBQVksRUFDWkMsWUFBYSxHQUNiQyxPQUFPLEVBQ1BDLFNBQVUsR0FDVkMsU0FBVSxHQUNWQyxhQUFjLDZCQUNkQyxhQUFjLCtCQXNDbEIxRCxFQUFFLFlBQVkyRCxnQkFFZDNELEVBQUUsb0JBQW9CNEQsT0FDbEJDLFlBQVksRUFDWkMsY0FBZSxNQUNmQyxhQUFjLEVBQ2RDLFFBQVEsRUFDUkMsVUFBVyxnQ0FDWEMsVUFBVyxnQ0FDWEMsYUFFUUMsV0FBWSxJQUNaQyxVQUNJTCxRQUFRLEVBQ1JILFlBQVksRUFDWkMsY0FBZSxPQUNmQyxhQUFjLEtBSWxCSyxXQUFZLElBQ1pDLFVBQ0lMLFFBQVEsRUFDUkgsWUFBWSxFQUNaQyxjQUFlLE9BQ2ZDLGFBQWMsT0FPOUI1RCxJQUNBLElBQUltRSxFQUFhckUsU0FBU0ksY0FBYyxpQ0FDcENrRSxFQUFhdEUsU0FBU0ksY0FBYyxpQ0FDeENpRSxFQUFXL0QsaUJBQWlCLFFBQVMsU0FBVUMsR0FDM0NBLEVBQUVDLGlCQUNGTixNQUVKb0UsRUFBV2hFLGlCQUFpQixRQUFTLFNBQVVDLEdBQzNDQSxFQUFFQyxpQkFDRk4sTUFrQldGLFNBQVNJLGNBQWMseUJBQzdCRSxpQkFBaUIsUUFBUyxTQUFVQyxHQUN6Q0EsRUFBRUMsaUJBRUYsSUFBSStELEVBQVd2RSxTQUFTSSxjQUFjLG1DQUNsQ29FLEVBQVV4RSxTQUFTSSxjQUFjLDJCQUNqQ3FFLEVBQWN6RSxTQUFTSSxjQUFjLHNDQUNyQ3NFLEVBQWUxRSxTQUFTSSxjQUFjLDZCQUN0Q3VFLEVBQWdCM0UsU0FBU0ksY0FBYyxxQ0FHdkN3RSxFQUZXdEMsU0FBU2tDLEVBQVFLLE9BRVAsRUFDckJDLEVBQVlGLEVBRkN0QyxTQUFTbUMsRUFBWUksT0FHdENOLEVBQVM3QixVQUFZa0MsRUFDckJKLEVBQVExQixhQUFhLFFBQVM4QixHQUM5QkQsRUFBY2pDLFVBQVlvQyxFQUMxQkosRUFBYTVCLGFBQWEsUUFBU2dDLEdBQ25DM0MsTUFPSixTQUF5Q2IsRUFBY3lELEVBQWFDLEdBRXhDaEYsU0FBU0ksY0FBY2tCLEdBQzdCaEIsaUJBQWlCLFFBQVMsU0FBVUMsR0FDbEQsSUFBSWtCLEVBQU0xQixFQUFFUSxFQUFFbUIsUUFBUUMsUUFBUSw2QkFDOUIsR0FBS0YsRUFBSUcsT0FBVCxDQUlBLElBQUlDLEVBQUtKLEVBQUlLLEtBQUssV0FDZEUsRUFBT2pDLEVBQUUsd0NBQXlDMEIsR0FBS1EsT0FFM0Q4QyxFQUFZakQsS0FBSyxRQUFTRCxHQUMxQm1ELEVBQWdCL0MsS0FBS0QsT0FmRyw0QkFGVmpDLEVBQUUsNkJBQ0hBLEVBQUUscUJBMEJ2QmMsRUFOZ0IseUJBQ0EsZ0NBTWhCQSxFQUxtQiwwQkFDQSxpQ0FLbkJBLEVBSnNCLDZCQUNBLG9DQW1CdEIsSUFBSW9FLEVBQW1CbEYsRUFBRSx1QkFDckJtRixFQUFrQm5GLEVBQUUseUNBQ3BCbUMsRUFBaUJuQyxFQUFFLG9DQUN2QnNCLEVBQXlCLG1DQUFvQzRELEVBQWtCQyxHQUMvRTdELEVBQXlCLGdDQUFpQzRELEVBQWtCQyxHQXFDNUUsSUFBSUMsRUFBT25GLFNBQVNJLGNBQWMsbUJBQ2pDLFdBQ2tCK0UsRUFBS0MsV0FDSkQsRUFBS0UsY0FDSEYsRUFBS0csYUFFdkJILEVBQUs3RSxpQkFBaUIsU0FFdEIsU0FBa0JDLEdBVWQsU0FBU2dGLEVBQWFDLEdBR2xCLElBQUssSUFGREMsR0FBVSxFQUVMQyxFQUFJLEVBQUdBLEVBQUlGLEVBQU81RCxPQUFROEQsSUFBSyxDQUNwQyxJQUFJQyxFQUFRSCxFQUFPRSxHQUVRLEtBQXZCQyxFQUFNZCxNQUFNZSxTQUNaSCxHQUFVLEVBQ1ZJLEVBQVVGLElBSWJGLEdBQ0RLLFdBQVcsV0FDUEMsTUFBTSx3QkFDTlosRUFBS2EsVUFDTixLQUtYLFNBQVNILEVBQVVGLEdBQ2ZBLEVBQU1NLFVBQVVDLElBQUksU0FDcEIsSUFBSWpFLEVBQU8wRCxFQUFNcEQsYUFBYSxjQUU5QixHQUFLTixFQUFMLENBRUEsSUFBSWtFLEVBQU1uRyxTQUFTb0csY0FBYyxPQUVqQ0QsRUFBSUUsWUFBY3BFLEVBQ2xCa0UsRUFBSUcsVUFBWSxhQUNoQlgsRUFBTVksV0FBV0MsWUFBWUwsSUF4Q2pDNUYsRUFBRUMsaUJBRUYsSUFBSTJFLEVBQU9zQixLQUNQakIsRUFBU0wsRUFBS3VCLGlCQUFpQixpQkF3Q25DLFNBQWVDLEVBQVlDLEdBQ3ZCLElBQUssSUFBSWxCLEVBQUksRUFBR0EsRUFBSWlCLEVBQVcvRSxPQUFROEQsSUFBSyxDQUN4QyxJQUFJQyxFQUFRZ0IsRUFBV2pCLEdBQ25CbUIsRUFBU2xCLEVBQU1ZLFdBQ2ZPLEVBQVlELEVBQU96RyxjQUFjLGVBRXJDdUYsRUFBTU0sVUFBVWMsT0FBTyxTQUNuQkQsR0FBV0QsRUFBT0csWUFBWUYsR0FHbENGLEdBQVVBLEtBaERacEIsRUFBUSxXQUNWRCxFQUFhQyxVQW1EekJMLEVBQUs3RSxpQkFBaUIsU0FBVSxXQUM1QjJHLE1BQU16RyxpQkFDTixJQUFJMEcsRUFBTSxJQUFJQyxlQUNkRCxFQUFJRSxLQUFLLE9BQVEsYUFDakJGLEVBQUlHLGlCQUFpQixlQUFnQixvQkFDckNILEVBQUlJLG1CQUFxQixXQUNyQixHQUF3QixJQUFwQmIsS0FBS2MsV0FBVCxDQUdBLElBQUlDLEVBQU14SCxTQUFTb0csY0FBYyxPQUM3QnFCLEVBQWFoQixLQUFLaUIsYUFDdEJGLEVBQUk5RSxVQUFZK0UsRUFDaEJ6SCxTQUFTMkgsS0FBS25CLFlBQVlnQixLQUU5QixJQUFJSSxHQUNBeEMsV0FBWSxHQUNaQyxjQUFlLEdBQ2ZDLGFBQWMsSUFFZHVDLEVBQU1DLEtBQUtDLFVBQVVILEdBQ3pCVixFQUFJYyxLQUFLSCIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnNpbXBsZS1zbGlkZXInKS5ieFNsaWRlcih7XHJcbiAgICAgICAgc2xpZGVXaWR0aDogMzUwLFxyXG4gICAgICAgIG1pblNsaWRlczogMSxcclxuICAgICAgICBtYXhTbGlkZXM6IDQsXHJcbiAgICAgICAgbW92ZVNsaWRlczogMSxcclxuICAgICAgICBzbGlkZU1hcmdpbjogMTUsXHJcbiAgICAgICAgcGFnZXI6IGZhbHNlLFxyXG4gICAgICAgIHByZXZUZXh0OiAnJyxcclxuICAgICAgICBuZXh0VGV4dDogJycsXHJcbiAgICAgICAgcHJldlNlbGVjdG9yOiAnLnNpbXBsZS1zbGlkZXJfX2Fycm93LXByZXYnLFxyXG4gICAgICAgIG5leHRTZWxlY3RvcjogJy5zaW1wbGUtc2xpZGVyX19hcnJvdy1uZXh0J1xyXG4gICAgfSk7XHJcbiAgICAvKiAkKCcuc2ltcGxlLXNsaWRlcicpLnNsaWNrKHtcclxuICAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgICBzcGVlZDogMzAwLFxyXG4gICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICBhcnJvd3M6IHRydWUsXHJcbiAgICAgcHJldkFycm93OiAnLnNpbXBsZS1zbGlkZXJfX2Fycm93LXByZXYnLFxyXG4gICAgIG5leHRBcnJvdzogJy5zaW1wbGUtc2xpZGVyX19hcnJvdy1uZXh0JyxcclxuICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAge1xyXG4gICAgIGJyZWFrcG9pbnQ6IDEwMjQsXHJcbiAgICAgc2V0dGluZ3M6IHtcclxuICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgaW5maW5pdGU6IHRydWVcclxuICAgICB9XHJcbiAgICAgfSxcclxuICAgICB7XHJcbiAgICAgYnJlYWtwb2ludDogNjAwLFxyXG4gICAgIHNldHRpbmdzOiB7XHJcbiAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgIGluZmluaXRlOiB0cnVlXHJcbiAgICAgfVxyXG4gICAgIH0sXHJcbiAgICAge1xyXG4gICAgIGJyZWFrcG9pbnQ6IDQ4MCxcclxuICAgICBzZXR0aW5nczoge1xyXG4gICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgIGluZmluaXRlOiB0cnVlXHJcbiAgICAgfVxyXG4gICAgIH1cclxuICAgICBdXHJcbiAgICAgfSk7Ki9cclxuICAgICQoJyN3cmFwcGVyJykuc2xpY2tMaWdodGJveCgpO1xyXG5cclxuICAgICQoJy5jZW50ZXJlZC1zbGlkZXInKS5zbGljayh7XHJcbiAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMHB4JyxcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgICAgIHByZXZBcnJvdzogJy5jZW50ZXJlZC1zbGlkZXJfX2J1dHRvbi1wcmV2JyxcclxuICAgICAgICBuZXh0QXJyb3c6ICcuY2VudGVyZWQtc2xpZGVyX19idXR0b24tbmV4dCcsXHJcbiAgICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNDBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICc0MHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENlbnRlcmVkIHNsaWRlciByZWFkIG1vcmUgYnV0dG9uXHJcbiAgICByZWFkTW9yZSgpO1xyXG4gICAgdmFyIGdldFByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNlbnRlcmVkLXNsaWRlcl9fYnV0dG9uLXByZXZcIiksXHJcbiAgICAgICAgZ2V0TmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2VudGVyZWQtc2xpZGVyX19idXR0b24tbmV4dFwiKTtcclxuICAgIGdldFByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJlYWRNb3JlKCk7XHJcbiAgICB9KTtcclxuICAgIGdldE5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJlYWRNb3JlKCk7XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIHJlYWRNb3JlKCkge1xyXG4gICAgICAgIHZhciBnZXRQYXJlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWNrLWNlbnRlclwiKS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgZ2V0UmVhZEJ0biA9IGdldFBhcmVudERpdlszXTtcclxuICAgICAgICBnZXRSZWFkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHZhciBnZXRDaGlsZERpdiA9IGdldFBhcmVudERpdlsyXTtcclxuICAgICAgICAgICAgZ2V0Q2hpbGREaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgdmFyIGdldENsb3NlQnRuID0gZ2V0Q2hpbGREaXYuY2hpbGRyZW5bMV07XHJcbiAgICAgICAgICAgIGdldENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBnZXRDaGlsZERpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQWRkIHBhZ2UgYnV0dG9uXHJcbiAgICB2YXIgYWRkUGdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlci1wYWdlc19fYWRkYnRuXCIpO1xyXG4gICAgYWRkUGdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyIGFkZFBnUmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19udW1iZXItcGFnZXMtcXVhbnRpdHlcIiksXHJcbiAgICAgICAgICAgIHF1YW50UGcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlci1wYWdlc19fcXVhbnRpdHlcIiksXHJcbiAgICAgICAgICAgIHF1YW50U3VtbVBnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19udW1iZXItcGFnZXMtcHJpY2UtaW5wdXRcIiksXHJcbiAgICAgICAgICAgIHF1YW50U3VtbVJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubnVtYmVyLXBhZ2VzX19zdW1tLXByaWNlXCIpLFxyXG4gICAgICAgICAgICBxdWFudFN1bW1EaXNwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19udW1iZXItcGFnZXMtcHJpY2Utc3VtbVwiKTtcclxuICAgICAgICB2YXIgc3RhcnRQb3MgPSBwYXJzZUludChxdWFudFBnLnZhbHVlKTtcclxuICAgICAgICB2YXIgc3RhcnRQcmljZSA9IHBhcnNlSW50KHF1YW50U3VtbVBnLnZhbHVlKTtcclxuICAgICAgICB2YXIgaW5jck51bSA9IHN0YXJ0UG9zICsgMTtcclxuICAgICAgICB2YXIgaW5jclByaWNlID0gaW5jck51bSAqIHN0YXJ0UHJpY2U7XHJcbiAgICAgICAgYWRkUGdSZXMuaW5uZXJUZXh0ID0gaW5jck51bTtcclxuICAgICAgICBxdWFudFBnLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGluY3JOdW0pO1xyXG4gICAgICAgIHF1YW50U3VtbURpc3AuaW5uZXJUZXh0ID0gaW5jclByaWNlO1xyXG4gICAgICAgIHF1YW50U3VtbVJlcy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBpbmNyUHJpY2UpO1xyXG4gICAgICAgIGNhbGN1bGF0ZVRvdGFsKCk7XHJcbiAgICB9KTtcclxuICAgIC8vQ2hvb3NlIHdheSBvZiBjb21tdW5pY2F0aW9uXHJcbiAgICB2YXIgJGNvbW1WYWx1ZUlucHV0ID0gJChcIi5jaG9zZW4tY29tbXVuaWNhdGlvbi13YXlcIik7XHJcbiAgICB2YXIgJGNvbW1OYW1lT3V0RWwgPSAkKFwiLmNvbW0td2F5LWNob3NlblwiKTtcclxuICAgIGluaXRpYWxpemVDb21tdW5pY2F0aW9uRHJvcGRvd24oXCIuZm9ybS1maWVsZF9fY29udGFjdC1saXN0XCIsICRjb21tVmFsdWVJbnB1dCwgJGNvbW1OYW1lT3V0RWwpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVDb21tdW5pY2F0aW9uRHJvcGRvd24obGlzdFNlbGVjdG9yLCAkd2F5SURJbnB1dCwgJHdheU5hbWVPdXB1dEVsKSB7XHJcblxyXG4gICAgICAgIHZhciBjb21tdW5pY2F0aW9uTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGlzdFNlbGVjdG9yKTtcclxuICAgICAgICBjb21tdW5pY2F0aW9uTGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyICRsaSA9ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuZm9ybS1maWVsZF9fY29udGFjdC1pdGVtXCIpO1xyXG4gICAgICAgICAgICBpZiAoISRsaS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGlkID0gJGxpLmF0dHIoXCJkYXRhLWlkXCIpO1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9ICQoXCJbY2xhc3M9Zm9ybS1maWVsZF9fY29udGFjdC1pdGVtLW5hbWVdXCIsICRsaSkudGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgJHdheUlESW5wdXQuYXR0cihcInZhbHVlXCIsIGlkKTtcclxuICAgICAgICAgICAgJHdheU5hbWVPdXB1dEVsLnRleHQobmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL0Nsb3NlIGxpc3QgYXNpZGVcclxuICAgIHZhciBjb21tQ2hlY2sgPSAnI2NvbW11bmljYXRpb24tY29udGFjdCc7XHJcbiAgICB2YXIgY29tbUxhYmVsID0gJyNjb21tdW5pY2F0aW9uLWNvbnRhY3QrbGFiZWwnO1xyXG4gICAgdmFyIHJlc3BvbnNDaGVjayA9ICcjcmVzcG9uc2l2ZS1saXN0LXRvZ2dsZSc7XHJcbiAgICB2YXIgcmVzcG9uc0xhYmVsID0gJyNyZXNwb25zaXZlLWxpc3QtdG9nZ2xlK2xhYmVsJztcclxuICAgIHZhciBub25SZXNwb25zQ2hlY2sgPSAnI25vbnJlc3BvbnNpdmUtbGlzdC10b2dnbGUnO1xyXG4gICAgdmFyIG5vblJlc3BvbnNMYWJlbCA9ICcjbm9ucmVzcG9uc2l2ZS1saXN0LXRvZ2dsZStsYWJlbCc7XHJcbiAgICBjbG9zZUFzaWRlKGNvbW1DaGVjaywgY29tbUxhYmVsKTtcclxuICAgIGNsb3NlQXNpZGUocmVzcG9uc0NoZWNrLCByZXNwb25zTGFiZWwpO1xyXG4gICAgY2xvc2VBc2lkZShub25SZXNwb25zQ2hlY2ssIG5vblJlc3BvbnNMYWJlbCk7XHJcbiAgICBmdW5jdGlvbiBjbG9zZUFzaWRlIChjaGVja0JveFNlbGVjdG9yLCBjaGVja0xhYmVsU2VsZWN0b3IpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgYUNoZWNrQm94ID0gJChjaGVja0JveFNlbGVjdG9yKTtcclxuICAgICAgICAgICAgYUNoZWNrQm94LnByb3AoXCJjaGVja2VkXCIsIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgYUNoZWNrQm94ID0gJChjaGVja0JveFNlbGVjdG9yKTtcclxuICAgICAgICB2YXIgYUNoZWNrTGFiZWwgPSAkKGNoZWNrTGFiZWxTZWxlY3Rvcik7XHJcbiAgICAgICAgJChhQ2hlY2tCb3gpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChhQ2hlY2tMYWJlbCkuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vQ2hvb3NlIHBhY2thZ2VcclxuICAgIHZhciAkcHJpY2VWYWx1ZUlucHV0ID0gJChcIi5jaG9zZW4taXRlbV9fcHJpY2VcIik7XHJcbiAgICB2YXIgJHByaWNlTmFtZU91dEVsID0gJChcIi5zdW1tYXJ5X19zZWxlY3RlZC1wYWNrYWdlLXByaWNlLXN1bW1cIik7XHJcbiAgICB2YXIgJHByb2pOYW1lT3V0RWwgPSAkKFwiLnN1bW1hcnlfX3NlbGVjdGVkLXBhY2thZ2UtbGluZTJcIik7XHJcbiAgICBpbml0aWFsaXplUHJpY2VzRHJvcGRvd24oXCIuZm9ybXMtZmllbGRfX25vbnJlc3BvbnNpdmUtbGlzdFwiLCAkcHJpY2VWYWx1ZUlucHV0LCAkcHJpY2VOYW1lT3V0RWwsICRwcm9qTmFtZU91dEVsKTtcclxuICAgIGluaXRpYWxpemVQcmljZXNEcm9wZG93bihcIi5mb3Jtcy1maWVsZF9fcmVzcG9uc2l2ZS1saXN0XCIsICRwcmljZVZhbHVlSW5wdXQsICRwcmljZU5hbWVPdXRFbCwgJHByb2pOYW1lT3V0RWwpO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplUHJpY2VzRHJvcGRvd24obGlzdFNlbGVjdG9yLCAkcGFja2FnZUlESW5wdXQsICRwcmljZU5hbWVPdXB1dEVsKSB7XHJcblxyXG4gICAgICAgIHZhciBwYWNrYWdlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGlzdFNlbGVjdG9yKTtcclxuICAgICAgICBwYWNrYWdlTGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyICRsaSA9ICQoZS50YXJnZXQpLnBhcmVudHMoXCIuZm9ybXMtZmllbGRfX2l0ZW1cIik7XHJcbiAgICAgICAgICAgIGlmICghJGxpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaWQgPSAkbGkuYXR0cihcImRhdGEtaWRcIik7XHJcbiAgICAgICAgICAgIHZhciBwcmljZSA9ICRsaS5hdHRyKFwiZGF0YS1wcmljZVwiKTtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSAkKFwiW2NsYXNzKj1yZXNwb25zaXZlLWl0ZW0tbmFtZV1cIiwgJGxpKS50ZXh0KCk7XHJcblxyXG4gICAgICAgICAgICAkcHJpY2VOYW1lT3VwdXRFbC50ZXh0KHByaWNlKTtcclxuICAgICAgICAgICAgJHBhY2thZ2VJRElucHV0LmF0dHIoXCJ2YWx1ZVwiLCBpZCk7XHJcbiAgICAgICAgICAgICRwcm9qTmFtZU91dEVsLnRleHQobmFtZSk7XHJcbiAgICAgICAgICAgIGNhbGN1bGF0ZVRvdGFsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4vL0NhbGN1bGF0ZSBzdW1tYXJ5XHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbCgpIHtcclxuICAgICAgICB2YXIgcXVhbnRQZ1ByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5udW1iZXItcGFnZXNfX3N1bW0tcHJpY2VcIiksXHJcbiAgICAgICAgICAgIGdldFF1YW50UGdQcmljZSA9IHBhcnNlSW50KHF1YW50UGdQcmljZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSksXHJcbiAgICAgICAgICAgIHBhY2thZ2VQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VtbWFyeV9fc2VsZWN0ZWQtcGFja2FnZS1wcmljZS1zdW1tXCIpLFxyXG4gICAgICAgICAgICBnZXRQYWNrYWdlUHJpY2UgPSBwYXJzZUludChwYWNrYWdlUHJpY2UuaW5uZXJUZXh0KSxcclxuICAgICAgICAgICAgdG90YWxQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VtbWFyeV9fdG90YWwtcHJpY2UtbnVtYmVyXCIpLFxyXG4gICAgICAgICAgICB0b3RhbFByaWNlT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X190b3RhbC1wcmljZS1pbnB1dFwiKTtcclxuICAgICAgICB2YXIgdG90YWxSZXMgPSBnZXRQYWNrYWdlUHJpY2UgKyBnZXRRdWFudFBnUHJpY2U7XHJcbiAgICAgICAgdG90YWxQcmljZS5pbm5lclRleHQgPSB0b3RhbFJlcztcclxuICAgICAgICB0b3RhbFByaWNlT3V0cHV0LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIHRvdGFsUmVzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZhbGlkYXRlLXRoaXNcIik7XHJcbiAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0ZXh0TmFtZSA9IGZvcm0ubmFtZUNsaWVudCxcclxuICAgICAgICAgICAgdGV4dEVtYWlsID0gZm9ybS5jb250YWN0TnVtYmVyLFxyXG4gICAgICAgICAgICB0ZXh0UHJvamVjdCA9IGZvcm0ucHJvamVjdFRpdGxlO1xyXG5cclxuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdmFsaWRhdGUpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZShlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBmb3JtID0gdGhpcyxcclxuICAgICAgICAgICAgICAgIGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWVycm9yXVwiKTtcclxuXHJcbiAgICAgICAgICAgIGNsZWFyKGlucHV0cywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tJc0VtcHR5KGlucHV0cyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tJc0VtcHR5KGlucHV0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRW1wdHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGlucHV0c1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0VtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya0lucHV0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiY2hlY2tpbmcgaXMgY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hcmtJbnB1dChpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVycm9yXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGV4dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gXCJlcnJvci10ZXh0XCI7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyKGlucHV0c0l0ZW0sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0c0l0ZW0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dHNJdGVtW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBpbnB1dC5wYXJlbnROb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcnIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci10ZXh0XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VycikgcGFyZW50LnJlbW92ZUNoaWxkKG1lc3NhZ2Vycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSgpKTtcclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIFwiL2ZlZWRiYWNrXCIpO1xyXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKVxyXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IDQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgb3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgdmFyIGpzb25TdHJpbmcgPSB0aGlzLnJlc3BvbnNlVGV4dDtcclxuICAgICAgICAgICAgb3V0LmlubmVyVGV4dCA9IGpzb25TdHJpbmc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBuYW1lQ2xpZW50OiBcIlwiLFxyXG4gICAgICAgICAgICBjb250YWN0TnVtYmVyOiBcIlwiLFxyXG4gICAgICAgICAgICBwcm9qZWN0VGl0bGU6IFwiXCJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICB4aHIuc2VuZChzdHIpO1xyXG4gICAgfSk7XHJcbn0pOyJdfQ==
