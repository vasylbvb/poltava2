$(document).ready(function(){function e(){var e=document.querySelector(".slick-center").children;e[3].addEventListener("click",function(t){t.preventDefault();var r=e[2];r.style.display="block",r.children[1].addEventListener("click",function(e){e.preventDefault(),r.style.display="none"})})}function t(e,t,n){document.querySelector(e).addEventListener("click",function(e){var i=$(e.target).parents(".forms-field__item");if(i.length){var a=i.attr("data-id"),s=i.attr("data-price"),o=$("[class*=responsive-item-name]",i).text();n.text(s),t.attr("value",a),c.text(o),r()}})}function r(){var e=document.querySelector(".number-pages__summ-price"),t=parseInt(e.getAttribute("value")),r=document.querySelector(".summary__selected-package-price-summ"),n=parseInt(r.innerText),i=document.querySelector(".summary__total-price-number"),a=document.querySelector(".summary__total-price-input"),s=n+t;i.innerText=s,a.setAttribute("value",s)}$(".simple-slider").bxSlider({slideWidth:350,minSlides:1,maxSlides:4,moveSlides:1,slideMargin:15,pager:!1,prevText:"",nextText:"",prevSelector:".simple-slider__arrow-prev",nextSelector:".simple-slider__arrow-next"}),$(".centered-slider").slick({centerMode:!0,centerPadding:"0px",slidesToShow:3,arrows:!0,prevArrow:".centered-slider__button-prev",nextArrow:".centered-slider__button-next",responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]}),e();var n=document.querySelector(".centered-slider__button-prev"),i=document.querySelector(".centered-slider__button-next");n.addEventListener("click",function(t){t.preventDefault(),e()}),i.addEventListener("click",function(t){t.preventDefault(),e()}),document.querySelector(".number-pages__addbtn").addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".summary__number-pages-quantity"),n=document.querySelector(".number-pages__quantity"),i=document.querySelector(".summary__number-pages-price-input"),a=document.querySelector(".number-pages__summ-price"),s=document.querySelector(".summary__number-pages-price-summ"),c=parseInt(n.value)+1,o=c*parseInt(i.value);t.innerText=c,n.setAttribute("value",c),s.innerText=o,a.setAttribute("value",o),r()});var a=$(".chosen-item__price"),s=$(".summary__selected-package-price-summ"),c=$(".summary__selected-package-line2");t(".forms-field__nonresponsive-list",a,s),t(".forms-field__responsive-list",a,s);var o=document.querySelector(".validate-this");!function(){o.name,o.emailAddress,o.projectTitle;o.addEventListener("submit",function(e){function t(e){for(var t=!1,i=0;i<e.length;i++){var a=e[i];""===a.value.trim()&&(t=!0,r(a))}t||setTimeout(function(){alert("checking is complete"),n.submit()},300)}function r(e){e.classList.add("error");var t=e.getAttribute("data-error");if(t){var r=document.createElement("div");r.textContent=t,r.className="error-text",e.parentNode.appendChild(r)}}e.preventDefault();var n=this,i=n.querySelectorAll("[data-error]");!function(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=n.parentNode,a=i.querySelector(".error-text");n.classList.remove("error"),a&&i.removeChild(a)}t&&t()}(i,function(){t(i)})})}(),o.addEventListener("submit",function(){event.preventDefault();var e=new XMLHttpRequest;e.open("POST","/feedback"),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4===this.readyState){var e=document.createElement("div"),t=this.responseText;e.innerText=t,document.body.appendChild(e)}};var t={name:"",emailAddress:"",projectTitle:""},r=JSON.stringify(t);e.send(r)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJyZWFkTW9yZSIsImdldFBhcmVudERpdiIsInF1ZXJ5U2VsZWN0b3IiLCJjaGlsZHJlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJnZXRDaGlsZERpdiIsInN0eWxlIiwiZGlzcGxheSIsImV2IiwiaW5pdGlhbGl6ZVByaWNlc0Ryb3Bkb3duIiwibGlzdFNlbGVjdG9yIiwiJHBhY2thZ2VJRElucHV0IiwiJHByaWNlTmFtZU91cHV0RWwiLCIkbGkiLCJ0YXJnZXQiLCJwYXJlbnRzIiwibGVuZ3RoIiwiaWQiLCJhdHRyIiwicHJpY2UiLCJuYW1lIiwidGV4dCIsIiRwcm9qTmFtZU91dEVsIiwiY2FsY3VsYXRlVG90YWwiLCJxdWFudFBnUHJpY2UiLCJnZXRRdWFudFBnUHJpY2UiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsInBhY2thZ2VQcmljZSIsImdldFBhY2thZ2VQcmljZSIsImlubmVyVGV4dCIsInRvdGFsUHJpY2UiLCJ0b3RhbFByaWNlT3V0cHV0IiwidG90YWxSZXMiLCJzZXRBdHRyaWJ1dGUiLCJieFNsaWRlciIsInNsaWRlV2lkdGgiLCJtaW5TbGlkZXMiLCJtYXhTbGlkZXMiLCJtb3ZlU2xpZGVzIiwic2xpZGVNYXJnaW4iLCJwYWdlciIsInByZXZUZXh0IiwibmV4dFRleHQiLCJwcmV2U2VsZWN0b3IiLCJuZXh0U2VsZWN0b3IiLCJzbGljayIsImNlbnRlck1vZGUiLCJjZW50ZXJQYWRkaW5nIiwic2xpZGVzVG9TaG93IiwiYXJyb3dzIiwicHJldkFycm93IiwibmV4dEFycm93IiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsImdldFByZXZCdG4iLCJnZXROZXh0QnRuIiwiYWRkUGdSZXMiLCJxdWFudFBnIiwicXVhbnRTdW1tUGciLCJxdWFudFN1bW1SZXMiLCJxdWFudFN1bW1EaXNwIiwiaW5jck51bSIsInZhbHVlIiwiaW5jclByaWNlIiwiJHByaWNlVmFsdWVJbnB1dCIsIiRwcmljZU5hbWVPdXRFbCIsImZvcm0iLCJlbWFpbEFkZHJlc3MiLCJwcm9qZWN0VGl0bGUiLCJjaGVja0lzRW1wdHkiLCJpbnB1dHMiLCJpc0VtcHR5IiwiaSIsImlucHV0IiwidHJpbSIsIm1hcmtJbnB1dCIsInNldFRpbWVvdXQiLCJhbGVydCIsInN1Ym1pdCIsImNsYXNzTGlzdCIsImFkZCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTmFtZSIsInBhcmVudE5vZGUiLCJhcHBlbmRDaGlsZCIsInRoaXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRzSXRlbSIsImNhbGxiYWNrIiwicGFyZW50IiwibWVzc2FnZXJyIiwicmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJldmVudCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwib3V0IiwianNvblN0cmluZyIsInJlc3BvbnNlVGV4dCIsImJvZHkiLCJkYXRhIiwic3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlbmQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBc0RkLFNBQVNDLElBQ0wsSUFBSUMsRUFBZUgsU0FBU0ksY0FBYyxpQkFBaUJDLFNBQzFDRixFQUFhLEdBQ25CRyxpQkFBaUIsUUFBUyxTQUFVQyxHQUMzQ0EsRUFBRUMsaUJBQ0YsSUFBSUMsRUFBY04sRUFBYSxHQUMvQk0sRUFBWUMsTUFBTUMsUUFBVSxRQUNWRixFQUFZSixTQUFTLEdBQzNCQyxpQkFBaUIsUUFBUyxTQUFVTSxHQUM1Q0EsRUFBR0osaUJBQ0hDLEVBQVlDLE1BQU1DLFFBQVUsV0FpQ3hDLFNBQVNFLEVBQXlCQyxFQUFjQyxFQUFpQkMsR0FFM0NoQixTQUFTSSxjQUFjVSxHQUM3QlIsaUJBQWlCLFFBQVMsU0FBVUMsR0FDNUMsSUFBSVUsRUFB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RixHQUNmQSxFQUFNTSxVQUFVQyxJQUFJLFNBQ3BCLElBQUk3RCxFQUFPc0QsRUFBTWhELGFBQWEsY0FFOUIsR0FBS04sRUFBTCxDQUVBLElBQUk4RCxFQUFNdkYsU0FBU3dGLGNBQWMsT0FFakNELEVBQUlFLFlBQWNoRSxFQUNsQjhELEVBQUlHLFVBQVksYUFDaEJYLEVBQU1ZLFdBQVdDLFlBQVlMLElBeENqQ2hGLEVBQUVDLGlCQUVGLElBQUlnRSxFQUFPcUIsS0FDUGpCLEVBQVNKLEVBQUtzQixpQkFBaUIsaUJBd0NuQyxTQUFlQyxFQUFZQyxHQUN2QixJQUFLLElBQUlsQixFQUFJLEVBQUdBLEVBQUlpQixFQUFXM0UsT0FBUTBELElBQUssQ0FDeEMsSUFBSUMsRUFBUWdCLEVBQVdqQixHQUNuQm1CLEVBQVNsQixFQUFNWSxXQUNmTyxFQUFZRCxFQUFPN0YsY0FBYyxlQUVyQzJFLEVBQU1NLFVBQVVjLE9BQU8sU0FDbkJELEdBQVdELEVBQU9HLFlBQVlGLEdBR2xDRixHQUFVQSxLQWhEWnBCLEVBQVEsV0FDVkQsRUFBYUMsVUFtRHpCSixFQUFLbEUsaUJBQWlCLFNBQVUsV0FDNUIrRixNQUFNN0YsaUJBQ04sSUFBSThGLEVBQU0sSUFBSUMsZUFDZEQsRUFBSUUsS0FBSyxPQUFRLGFBQ2pCRixFQUFJRyxpQkFBaUIsZUFBZ0Isb0JBQ3JDSCxFQUFJSSxtQkFBcUIsV0FDckIsR0FBd0IsSUFBcEJiLEtBQUtjLFdBQVQsQ0FHQSxJQUFJQyxFQUFNNUcsU0FBU3dGLGNBQWMsT0FDN0JxQixFQUFhaEIsS0FBS2lCLGFBQ3RCRixFQUFJMUUsVUFBWTJFLEVBQ2hCN0csU0FBUytHLEtBQUtuQixZQUFZZ0IsS0FFOUIsSUFBSUksR0FDQXhGLEtBQU0sR0FDTmlELGFBQWMsR0FDZEMsYUFBYyxJQUVkdUMsRUFBTUMsS0FBS0MsVUFBVUgsR0FDekJWLEVBQUljLEtBQUtIIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuc2ltcGxlLXNsaWRlcicpLmJ4U2xpZGVyKHtcclxuICAgICAgICBzbGlkZVdpZHRoOiAzNTAsXHJcbiAgICAgICAgbWluU2xpZGVzOiAxLFxyXG4gICAgICAgIG1heFNsaWRlczogNCxcclxuICAgICAgICBtb3ZlU2xpZGVzOiAxLFxyXG4gICAgICAgIHNsaWRlTWFyZ2luOiAxNSxcclxuICAgICAgICBwYWdlcjogZmFsc2UsXHJcbiAgICAgICAgcHJldlRleHQ6ICcnLFxyXG4gICAgICAgIG5leHRUZXh0OiAnJyxcclxuICAgICAgICBwcmV2U2VsZWN0b3I6ICcuc2ltcGxlLXNsaWRlcl9fYXJyb3ctcHJldicsXHJcbiAgICAgICAgbmV4dFNlbGVjdG9yOiAnLnNpbXBsZS1zbGlkZXJfX2Fycm93LW5leHQnXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuY2VudGVyZWQtc2xpZGVyJykuc2xpY2soe1xyXG4gICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgY2VudGVyUGFkZGluZzogJzBweCcsXHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxyXG4gICAgICAgIGFycm93czogdHJ1ZSxcclxuICAgICAgICBwcmV2QXJyb3c6ICcuY2VudGVyZWQtc2xpZGVyX19idXR0b24tcHJldicsXHJcbiAgICAgICAgbmV4dEFycm93OiAnLmNlbnRlcmVkLXNsaWRlcl9fYnV0dG9uLW5leHQnLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzQwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogM1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA0ODAsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNDBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuICAgIC8vIENlbnRlcmVkIHNsaWRlciByZWFkIG1vcmUgYnV0dG9uXHJcbiAgICByZWFkTW9yZSgpO1xyXG4gICAgdmFyIGdldFByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNlbnRlcmVkLXNsaWRlcl9fYnV0dG9uLXByZXZcIiksXHJcbiAgICAgICAgZ2V0TmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2VudGVyZWQtc2xpZGVyX19idXR0b24tbmV4dFwiKTtcclxuICAgIGdldFByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJlYWRNb3JlKCk7XHJcbiAgICB9KTtcclxuICAgIGdldE5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJlYWRNb3JlKCk7XHJcbiAgICB9KTtcclxuICAgIGZ1bmN0aW9uIHJlYWRNb3JlKCkge1xyXG4gICAgICAgIHZhciBnZXRQYXJlbnREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWNrLWNlbnRlclwiKS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgZ2V0UmVhZEJ0biA9IGdldFBhcmVudERpdlszXTtcclxuICAgICAgICBnZXRSZWFkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHZhciBnZXRDaGlsZERpdiA9IGdldFBhcmVudERpdlsyXTtcclxuICAgICAgICAgICAgZ2V0Q2hpbGREaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgdmFyIGdldENsb3NlQnRuID0gZ2V0Q2hpbGREaXYuY2hpbGRyZW5bMV07XHJcbiAgICAgICAgICAgIGdldENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBnZXRDaGlsZERpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQWRkIHBhZ2UgYnV0dG9uXHJcbiAgICB2YXIgYWRkUGdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlci1wYWdlc19fYWRkYnRuXCIpO1xyXG4gICAgYWRkUGdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyIGFkZFBnUmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19udW1iZXItcGFnZXMtcXVhbnRpdHlcIiksXHJcbiAgICAgICAgICAgIHF1YW50UGcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlci1wYWdlc19fcXVhbnRpdHlcIiksXHJcbiAgICAgICAgICAgIHF1YW50U3VtbVBnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19udW1iZXItcGFnZXMtcHJpY2UtaW5wdXRcIiksXHJcbiAgICAgICAgICAgIHF1YW50U3VtbVJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubnVtYmVyLXBhZ2VzX19zdW1tLXByaWNlXCIpLFxyXG4gICAgICAgICAgICBxdWFudFN1bW1EaXNwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19udW1iZXItcGFnZXMtcHJpY2Utc3VtbVwiKTtcclxuICAgICAgICB2YXIgc3RhcnRQb3MgPSBwYXJzZUludChxdWFudFBnLnZhbHVlKTtcclxuICAgICAgICB2YXIgc3RhcnRQcmljZSA9IHBhcnNlSW50KHF1YW50U3VtbVBnLnZhbHVlKTtcclxuICAgICAgICB2YXIgaW5jck51bSA9IHN0YXJ0UG9zICsgMTtcclxuICAgICAgICB2YXIgaW5jclByaWNlID0gaW5jck51bSAqIHN0YXJ0UHJpY2U7XHJcbiAgICAgICAgYWRkUGdSZXMuaW5uZXJUZXh0ID0gaW5jck51bTtcclxuICAgICAgICBxdWFudFBnLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGluY3JOdW0pO1xyXG4gICAgICAgIHF1YW50U3VtbURpc3AuaW5uZXJUZXh0ID0gaW5jclByaWNlO1xyXG4gICAgICAgIHF1YW50U3VtbVJlcy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBpbmNyUHJpY2UpO1xyXG4gICAgICAgIGNhbGN1bGF0ZVRvdGFsKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgJHByaWNlVmFsdWVJbnB1dCA9ICQoXCIuY2hvc2VuLWl0ZW1fX3ByaWNlXCIpO1xyXG4gICAgdmFyICRwcmljZU5hbWVPdXRFbCA9ICQoXCIuc3VtbWFyeV9fc2VsZWN0ZWQtcGFja2FnZS1wcmljZS1zdW1tXCIpO1xyXG4gICAgdmFyICRwcm9qTmFtZU91dEVsID0gJChcIi5zdW1tYXJ5X19zZWxlY3RlZC1wYWNrYWdlLWxpbmUyXCIpO1xyXG4gICAgaW5pdGlhbGl6ZVByaWNlc0Ryb3Bkb3duKFwiLmZvcm1zLWZpZWxkX19ub25yZXNwb25zaXZlLWxpc3RcIiwgJHByaWNlVmFsdWVJbnB1dCwgJHByaWNlTmFtZU91dEVsLCAkcHJvak5hbWVPdXRFbCk7XHJcbiAgICBpbml0aWFsaXplUHJpY2VzRHJvcGRvd24oXCIuZm9ybXMtZmllbGRfX3Jlc3BvbnNpdmUtbGlzdFwiLCAkcHJpY2VWYWx1ZUlucHV0LCAkcHJpY2VOYW1lT3V0RWwsICRwcm9qTmFtZU91dEVsKTtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVByaWNlc0Ryb3Bkb3duKGxpc3RTZWxlY3RvciwgJHBhY2thZ2VJRElucHV0LCAkcHJpY2VOYW1lT3VwdXRFbCkge1xyXG5cclxuICAgICAgICB2YXIgcGFja2FnZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxpc3RTZWxlY3Rvcik7XHJcbiAgICAgICAgcGFja2FnZUxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkbGkgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKFwiLmZvcm1zLWZpZWxkX19pdGVtXCIpO1xyXG4gICAgICAgICAgICBpZiAoISRsaS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGlkID0gJGxpLmF0dHIoXCJkYXRhLWlkXCIpO1xyXG4gICAgICAgICAgICB2YXIgcHJpY2UgPSAkbGkuYXR0cihcImRhdGEtcHJpY2VcIik7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gJChcIltjbGFzcyo9cmVzcG9uc2l2ZS1pdGVtLW5hbWVdXCIsICRsaSkudGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgJHByaWNlTmFtZU91cHV0RWwudGV4dChwcmljZSk7XHJcbiAgICAgICAgICAgICRwYWNrYWdlSURJbnB1dC5hdHRyKFwidmFsdWVcIiwgaWQpO1xyXG4gICAgICAgICAgICAkcHJvak5hbWVPdXRFbC50ZXh0KG5hbWUpO1xyXG4gICAgICAgICAgICBjYWxjdWxhdGVUb3RhbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVRvdGFsKCkge1xyXG4gICAgICAgIHZhciBxdWFudFBnUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm51bWJlci1wYWdlc19fc3VtbS1wcmljZVwiKSxcclxuICAgICAgICAgICAgZ2V0UXVhbnRQZ1ByaWNlID0gcGFyc2VJbnQocXVhbnRQZ1ByaWNlLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpKSxcclxuICAgICAgICAgICAgcGFja2FnZVByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X19zZWxlY3RlZC1wYWNrYWdlLXByaWNlLXN1bW1cIiksXHJcbiAgICAgICAgICAgIGdldFBhY2thZ2VQcmljZSA9IHBhcnNlSW50KHBhY2thZ2VQcmljZS5pbm5lclRleHQpLFxyXG4gICAgICAgICAgICB0b3RhbFByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdW1tYXJ5X190b3RhbC1wcmljZS1udW1iZXJcIiksXHJcbiAgICAgICAgICAgIHRvdGFsUHJpY2VPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1bW1hcnlfX3RvdGFsLXByaWNlLWlucHV0XCIpO1xyXG4gICAgICAgIHZhciB0b3RhbFJlcyA9IGdldFBhY2thZ2VQcmljZSArIGdldFF1YW50UGdQcmljZTtcclxuICAgICAgICB0b3RhbFByaWNlLmlubmVyVGV4dCA9IHRvdGFsUmVzO1xyXG4gICAgICAgIHRvdGFsUHJpY2VPdXRwdXQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdG90YWxSZXMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmFsaWRhdGUtdGhpc1wiKTtcclxuICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRleHROYW1lID0gZm9ybS5uYW1lLFxyXG4gICAgICAgICAgICB0ZXh0RW1haWwgPSBmb3JtLmVtYWlsQWRkcmVzcyxcclxuICAgICAgICAgICAgdGV4dFByb2plY3QgPSBmb3JtLnByb2plY3RUaXRsZTtcclxuXHJcbiAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHZhbGlkYXRlKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGUoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9ybSA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1lcnJvcl1cIik7XHJcblxyXG4gICAgICAgICAgICBjbGVhcihpbnB1dHMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrSXNFbXB0eShpbnB1dHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrSXNFbXB0eShpbnB1dHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0VtcHR5ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtJbnB1dChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcImNoZWNraW5nIGlzIGNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtYXJrSW5wdXQoaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lcnJvclwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRleHQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFwiZXJyb3ItdGV4dFwiO1xyXG4gICAgICAgICAgICAgICAgaW5wdXQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhcihpbnB1dHNJdGVtLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHNJdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRzSXRlbVtpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gaW5wdXQucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXJyID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItdGV4dFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlcnIpIHBhcmVudC5yZW1vdmVDaGlsZChtZXNzYWdlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0oKSk7XHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcIi9mZWVkYmFja1wiKTtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIilcclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG91dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIHZhciBqc29uU3RyaW5nID0gdGhpcy5yZXNwb25zZVRleHQ7XHJcbiAgICAgICAgICAgIG91dC5pbm5lclRleHQgPSBqc29uU3RyaW5nO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICAgICAgZW1haWxBZGRyZXNzOiBcIlwiLFxyXG4gICAgICAgICAgICBwcm9qZWN0VGl0bGU6IFwiXCJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzdHIgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICB4aHIuc2VuZChzdHIpO1xyXG4gICAgfSk7XHJcbn0pOyJdfQ==
